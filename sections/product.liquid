{% assign selected_variant = product.selected_or_first_available_variant %}

<script data-product-data type="application/json">
  {
    "product": {{ product | json }},
    "variants": {{ product.variants | json }}
  }
</script>
<section x-data="product({{ selected_variant.id }})" class="lg:h-[calc(100vh+1px)] pt-[120px] lg:pt-[160px] px-4 select-none">
  <div class="w-full flex flex-col-reverse lg:grid lg:grid-cols-2 gap-8 lg:gap-3 border-y h-full border-current pt-2 lg:py-4 pb-12 relative">
    <div class="lg:pt-[152px]">
      <div class="w-full grid lg:grid-cols-2 gap-y-8 lg:gap-y-0 gap-3 lg:h-full">
        <div class="w-full relative flex flex-col gap-8 lg:gap-0 lg:h-full justify-between">
          <div class="w-full relative flex flex-col gap-4">
            <div class="w-full relative flex flex-col">
              <h1 class="large-serif">{{ product.title }}</h1>
              {% if product.metafields.custom.product_subtitle != blank %}
                <p class="large-italic font-droulers">{{ product.metafields.custom.product_subtitle }}</p>
              {% endif %}
            </div>
            <div id="product-price">
              {% if selected_variant.available %}
                <p class="large-accent">{{ selected_variant.price | money }}</p>
              {% elsif product.tags contains 'hold' %}
                {% render 'product-status', type: 'on-hold', large: true %}
              {% elsif selected_variant.available == false %}
                {% render 'product-status', type: 'sold-out', large: true %}
              {% endif %}
            </div>
          </div>
          {% render 'product-variant-selector' %}
        </div>
        {% render 'product-information' %}
      </div>
    </div>
    {% render 'product-variant-media', selected_variant: selected_variant %}
    <div class="pb-4 w-full lg:w-max lg:pb-0 lg:block lg:absolute top-0 left-0 lg:pt-2">
      {% render 'product-breadcrumbs' %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Product Hero",
  "class": "contents",
  "presets": [
    {
      "name": "Product Hero"
    }
  ],
  "settings": [
    {
      "type": "checkbox",
      "id": "share_product_media",
      "label": "Share Product Media",
      "info": "If enabled, the product media will be shared across all variants.",
      "default": true
    }
  ],
  "enabled_on": {
    "templates": ["product"]
  }
}
{% endschema %}
