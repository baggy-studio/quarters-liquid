{% assign selected_variant = product.selected_or_first_available_variant %}

<script data-product-data type="application/json">
  {
    "variants": {{ product.variants | json }}
  }
</script>
<section x-data="product({{ selected_variant.id }})" class="lg:h-[calc(100vh+1px)] pt-[120px] lg:pt-[160px] px-4">
  <div class="w-full lg:grid lg:grid-cols-2 gap-3 border-y h-full border-current pt-2 pb-4">
    <div class="w-full relative flex flex-col gap-y-[135px]">
      {% render 'product-breadcrumbs' %}
      <div class="w-full grid lg:grid-cols-2 gap-3 h-full">
        <div class="w-full relative flex flex-col gap-8 lg:gap-0 pt-8 lg:pt-0 lg:h-full justify-between">
          <div class="w-full relative flex flex-col gap-4">
            <div class="w-full relative flex flex-col">
              <h1 class="large-serif">{{ product.title }}</h1>
              {% if product.metafields.custom.product_subtitle != blank %}
                <p class="large-italic font-droulers">{{ product.metafields.custom.product_subtitle }}</p>
              {% endif %}
            </div>
            <div id="product-price">
              {% if selected_variant.available %}
                <p class="large-accent">{{ selected_variant.price | money }}</p>
              {% elsif product.tags contains 'hold' %}
                {% render 'product-status', type: 'on-hold', large: true %}
              {% elsif selected_variant.available == false %}
                {% render 'product-status', type: 'sold-out', large: true %}
              {% endif %}
            </div>
          </div>
          {% render 'product-variant-selector' %}
        </div>
      </div>
    </div>
    <div class="w-full relative grid lg:grid-cols-10 gap-3">
      <div class="w-full relative col-span-2"></div>
      <div class="w-full relative col-span-8" id="product-variant-media">
        {% render 'product-variant-media' %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Product Hero",
  "class": "contents",
  "presets": [
    {
      "name": "Product Hero"
    }
  ],
  "enabled_on": {
    "templates": ["product"]
  }
}
{% endschema %}
